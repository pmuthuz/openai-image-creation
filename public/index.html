<html>
  <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <nav class="navbar navbar-light bg-light">
  <span class="navbar-brand mb-0 h1">Open AI Image Creator</span>
</nav>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
     <script type="text/javascript">
       function createImage(e) {
	 getImage();
	 
       }
       async function getImage() {
	 console.log("inside getImage 1");
	 const config = {
           method: 'POST',
            headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
           },
           body: JSON.stringify({ str: document.getElementById("inputText").value})
           };
	 const response = await fetch('/createimage', config);
	 const data = await response.json();
         if(data.url) {
           var img = document.createElement("IMG");
           img.src = data.url;
	   document.getElementById('imageDiv').innerHTML = '';
           document.getElementById('imageDiv').appendChild(img);
         }
       }
     </script>
  </head>
  <body>
      <div class="container" style="border:1px solid #cecece;">
        <div class="row my-5">
          <div class="col-sm"><label>Enter the string:</label><input type="text" id="inputText" /><input type="button" value="Create Image" onClick="createImage()" /></div>
	</div>
      <div class="row my-5">
        <div id="imageDiv"></div>
      </div>
      </div>
  </body>
</html>
